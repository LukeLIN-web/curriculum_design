大作业不用做具体电路， 告诉老师设计一个LNA，tradeoff是什么？一个CS 放大器。 这个学期, 要学会设计一个LNA 的tradeoff,大作业研究 输入阻抗可以怎么设计, 噪声系数可以怎么设计. 用什么结构可以达到什么效果？不需要自己设计.



定方向 ， 定方向的时候才需要和学长学姐详细讨论， 具体问题反而帮不上忙。 

报告

http://lib.cqvip.com/Qikan/Article/ReadIndex?id=87888974504849524854485052&info=EFyzuAwhc%2bax3nVwqAjK7WhNxGpteSsQpRivBjeZ9X4u7B6OU74Skk25YRuvCVusKkRnkOT1L7I%3d 

这个不错， 可以matlab建模， 有公式。 

论文
NF  !--Vgs2 我也不知道？-

推导比较复杂, 大作业可以写这个公式.36分钟

我设计了一个LNA, 告诉你频段, 知道怎么优化, 这些值怎么选, 电感n级别的比较合适. gm 几十毫， 电容一个gate几十pF。

1. 为什么Rin = 1/gm1?  模电有的。   
2. 怎么计算bandwidth的范围？  S11 根据频率变化， -10d B ， 看这两个点的距离。-10db = 20log gain。
3. 为什么 Rout = \frac{1}{2}(R_F+R_s) 并联算。

matlab可以画出一个Vin对LNA gain的图。 也有S11，NF，gain，real and image 阻抗和频率的变化图。 

静态工作点： 最大电压和最低vin， 取中间值。 静态工作点
找到VEOC 导通边缘， 找到VEOS 饱和边缘， 取中间。 目的：　让输出信在两个方向都有足够的摆幅


为什么要追求高工艺？同等参数， L  越小， gm越大。180nm 工艺 就是最小0.18um。 最小的Ft， 管子增益=1 ， 0dB的时候。 0.18um。

input 要给bias。

1. vgs 范围是多少V？W 最大是多少？   vgs不会超过3.3V。 0.7V 。 L =0.18um。
2. 电流不能太小， 电流的范围是多少？ 
3. S11可以用matlab吗？还是需要cadence 仿真测试？  MATlab 可以仿真S11吗？ 自己查询。好像只有模块化系统级的，没有电路级的
6. 带宽怎么算？  -3dB。 AC仿真， matlab。 

fT = gm/（2pi Cgs） Cgs = （2/3）WLCox 

6月16日


1. 宽长比接近20倍真的对吗？ 可以的没有问题。 

6.16日

1. noise figure 多大比较好？  越小越好
2. |a| 为啥在noise figure中= 1？
3. **Input Return Loss** 怎么算？  算不了， 就是S11. 需要cadence 仿真。 

6月17日
１.　W２　宽长比 最小是多小？  
２.　为什么不大于３.３V？ 工艺支持， 超过了就晶体管击穿了。
３．　AC 仿真 bias是多少？摆幅是多少？





gm到Vgs

Vgs 太高了， 实际仿真， Vdd 1.5V - 1.2 V ， Vgs 0.8-1.0V，公式简化了太多。

体效应简化了。 

1.  WL 太大会导致Id 大 ， 功耗太大。 fT变小。 工作频率一般为fT的1/5，所以我们的这个电路可以工作在16-20GHz。 这是对的吗？

 Vgs 从0.7 开始仿真。
AC 仿真， 跑出来可以找到-3dB，　
增益带宽积，Q 品质因子， 







工作在高频要加电感，  

可以用cadence仿真， 画一个S11 对频率的图，  S11 根据频率变化， -10dB ， 看这两个点的距离就是可以用的带宽。-10db = 20log gain。在本报告中我们没有cadence软件， 因此不进行这个仿真。 MATLAB的RF toolbox可以进行系统级仿真， 但是不能进行电路级的仿真。 Simulink可以计算滤波器的频率响应，但是和我们本次研究的对象不够吻合。



LC 谐振在4GHz。

100GHz, fT要很大， 不能用100GHz。

代码


```matlab
%% 
% paper
% F = 1+ (1./Rs).*gamma/gm;

% mesh(Vgs,W,F)

%%
% LNA ppt36

% s = j *w 
% Gain = (1/(Cgs *s) + L1*s + gm *L1/(Cgs)) *(1- 2*Cgd/Cgs  - L1*Cgd*s^2 - (R1*Cgd + gm*L1*Cgd/Cgs)*s)
% NF  = 1+ gm*Rs*gamma*(w0/wT)^2

```